# Breaking Changes in the last four months 
* Additional Q&A about breaking changes can be found [here](./breaking-changes.md) 
* To ask a question about breaking changes [use this](https://aka.ms/ask/ibiza-breaking-change)  


## 10.50.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14610238'>14610238</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14610238'>Upgrade azureportal-test framework to node 16</a><p><br style="box-sizing:border-box;"></span> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Expected Errors:**<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">- The msportalfx-test/azureportal-test framework (typescript UI test framework) is updating the version of Node used from version 12 to 16.&nbsp;<span style="box-sizing:border-box;">The NPM packages that portal ships were also updated to require the node engine to be &gt;=16.15, and npm &gt;=8.3. Projects that depend on these npm packages should also be updated to require at least those versions.</span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;"><br></span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;"><span style="display:inline !important;">- if you are running UI tests based on azureportal-test and you are seeing error `done() called multiple times in test`, this may be due upgrading to Node 16 which has started surfacing errors thrown by async calls.<span>&nbsp;</span></span><br></span> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;">** Solution:**</span><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;"><br style="box-sizing:border-box;"></span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;">- Update your development environments and any CI/CD pipelines that make use of node to use the v16 LTS &gt;= 16.15.0 or later -&nbsp;<a href="https://nodejs.org/en/download/" style="box-sizing:border-box;text-decoration:underline;cursor:pointer;">https://nodejs.org/en/download/</a></span> </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;"><span style="display:inline !important;">-&nbsp;</span><span style="box-sizing:border-box;">If you are running UI tests based on azureportal-test and you are seeing error `done() called multiple times in test` or other errors for tests that used to be passing, this may be due upgrading to Node 16 which has started surfacing errors thrown by async calls. &nbsp;Try verifying the following in your code:<br style="box-sizing:border-box;"></span><div style="box-sizing:border-box;">&nbsp; &nbsp; - Call `await` on functions/properties that return a promise type. </div><div style="box-sizing:border-box;">&nbsp; &nbsp; - Don't call `await` on functions/properties that do not return a promise type. </div><span style="box-sizing:border-box;">&nbsp; &nbsp; - You can use [es-lint](https://eslint.org/) rules such as [await-thenable](https://github.com/typescript-eslint/typescript-eslint/blob/main/packages/eslint-plugin/docs/rules/await-thenable.md) and [no-floating-promises](https://github.com/typescript-eslint/typescript-eslint/blob/main/packages/eslint-plugin/docs/rules/no-floating-promises.md) to help (note they are not perfect).</span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">&nbsp; &nbsp; - Ensure that you properly wait for blades/controls to be present.&nbsp;&nbsp;</span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">&nbsp; &nbsp; - Check the Common Issues and Node 16 upgrade section in the typescript test framework docs for details.&nbsp;&nbsp;<a href="https://msazure.visualstudio.com/One/_artifacts/feed/AzurePortal/Npm/@microsoft%2fazureportal-test/overview/">https://msazure.visualstudio.com/One/_artifacts/feed/AzurePortal/Npm/@microsoft%2fazureportal-test/overview/</a></span> </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Reason For Breaking Change**<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">Node v12 was recently deprecated and we updated to the current LTS version of Node. We also stopped internally shipping the PortalFx.NodeJS12 NuGet package and there is no partner-facing replacement for the package. The newly created package called PortalFx.Internal.NodeJS is not to be used by extension developer teams, and we don't guarantee there will not be breaking changes in it.<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><span style="box-sizing:border-box;"></p></td></tr></table>

## 10.46.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=13092367'>13092367</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=13092367'>[Breaking] Move ap build to use dotnet core</a><p> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"> </div><span style="box-sizing:border-box;">**Expected Errors:**<br style="box-sizing:border-box;"></span><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">- ap build and restore now use dotnet core to perform build. If you have not already migrated to Microsoft's new SDK style csproj format and/or dont have .NET core installed you will get build errors when performing ap build. </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Solution:**<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">- Migrate to Microsofts new SDK style projects and target .net core&nbsp; </div><div style="box-sizing:border-box;">-&nbsp;<span>Guidance provided in feb 2021 for extension partner teams can be found here video:&nbsp;<span style="display:inline !important;"><a href="https://aka.ms/portalfx/xplatvideo">https://aka.ms/portalfx/xplatvideo</a></span></span><span>, example PR&nbsp;<span style="display:inline !important;"><a href="https://aka.ms/portalfx/xplatpr">https://aka.ms/portalfx/xplatpr</a>&nbsp;and docs&nbsp;<a href="https://aka.ms/portalfx/xplatdoc" style="box-sizing:border-box;text-decoration:underline;cursor:pointer;">https://aka.ms/portalfx/xplatdoc</a></span></span> </div><div style="box-sizing:border-box;">- the change to migrate to the new project format should be fast as detailed in the video above. If you need an exception set useLegacyBuild to true in&nbsp;<span style="display:inline !important;">apCliConfig.json. Note this property will cease to funciton in the next breaking change window towards end of 2022.</span><br><div><span><br></span> </div><div><span>**Reason For Breaking Change**</span><br> </div><div><span><br></span> </div> </div><div style="box-sizing:border-box;">- aligning with Microsoft's new csproj format </div><div style="box-sizing:border-box;">- enablement for xplat development </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"><div style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;"></p></td></tr></table>

## 10.45.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14568362'>14568362</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14568362'>Deprecate EditableRow features of MsPortalFx.ViewModels.Controls.Lists.Grid</a><p> </div><div>The EditableRow features of MsPortalFx.ViewModels.Controls.Lists.Grid (aka Grid1) have been deprecated.&nbsp; Please use the &quot;Fx/Controls/EditableGrid&quot; control instead. Please also note Grid1 itself is not being deprecated at this time -- it is only the EditableRow features and associated control formatters that are being deprecated. </div><div><br> </div><div>The EditableRow extension/plugin of Grid1 requires previously deprecated controls that utilize the similarly deprecated edit scope.&nbsp; The EditableGrid control has been around for several years and is much easier to use.&nbsp; Most experiences have already transitioned to the EditableGrid.&nbsp; Please transition any remaining usages of Grid1 with EditableRow to the EditableGrid.&nbsp; </div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14568021'>14568021</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14568021'> Deprecate Create Action Bar and obsolete provisioning</a><p><br style="box-sizing:border-box;"></span><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">**Expected Errors:** Usages of </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.Azure.ResourceManager.Provisioner`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ParameterCollectionV3.Provisioner`<br> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ParameterCollectionV3.Provisioner.Options`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ParameterCollectionV3.Provisioner.PostProvisioningBladeInputs`<br style="box-sizing:border-box;"> </div><span style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ParameterCollectionV3.Provisioner.Config`</span><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.SetupPart.Content`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.SetupPart.ContentContract`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">will be flagged as a compile-time errors at build time<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"><span style="box-sizing:border-box;">**Expected Errors:** Usages of</span><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ParameterCollectionV3.StartboardInfo`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ActionBars.CreateActionBar`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ActionBars.CreateActionBar.ActionButtonText.Default`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ActionBars.CreateActionBar.Contract.allowToggleProvisioningLocation`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ActionBars.CreateActionBar.ActionBarInput.allowToggleProvisioningLocation`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ActionBars.CreateActionBar.ActionBarInput.masterIsProvisioningPart`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ActionBars.CreateActionBar.Contract.isProvisioningBlade`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ActionBars.CreateActionBar.Contract.provisionOnStartboardPart`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">`MsPortalFx.ViewModels.ActionBars.CreateActionBar.Contract.masterIsProvisioningPart`<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">will be flagged as lint errors.<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">**Solution:** Please use `import { DoesProvisioning } from &quot;Fx/Composition/TemplateBlade&quot;;` instead </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">**Reason For Breaking Change:** The newer APIs have enable full screen creates, better accessibility, &nbsp;and easier maintainability.<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"><br style="box-sizing:border-box;"> </div><span style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14560243'>14560243</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14560243'>Migrate all PDL assets to JSON</a><p>&nbsp; </div><div>&nbsp; </div><div>**Expected Errors:**&nbsp; </div><div>&nbsp; </div><div>- If you have PDL assets, the build will fail with PDLASSETCONVERTED. </div><div>&nbsp; </div><div>**Solution:**&nbsp; </div><div>&nbsp; </div><div>- You'll see your PDL assets have been removed from your PDL files and new *.dx.json flles exist containing the definition of your assets. Follow the steps at&nbsp;<a href="https://github.com/Azure/portaldocs/blob/main/portal-sdk/generated/declarative-pdl-migration.md">https://github.com/Azure/portaldocs/blob/main/portal-sdk/generated/declarative-pdl-migration.md</a>&nbsp;to add these dx.json files to your project and clean up uses of @ForAsset.Commands.Decorator. </div><div>&nbsp; </div><div>**Reason For Breaking Change**&nbsp; </div><div>&nbsp; </div><div>-&nbsp;A part of portal's push towards a modern development and tooling experience for extensions is removing PDC from Portal's build tooling. See&nbsp;<a href="https://github.com/Azure/portaldocs/blob/main/portal-sdk/generated/declarative-pdl-migration.md">https://github.com/Azure/portaldocs/blob/main/portal-sdk/generated/declarative-pdl-migration.md</a>&nbsp;for details </div><div><br> </div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14535327'>14535327</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14535327'>Remove directory pane</a><p> </div><div>&nbsp; </div><div>**Expected Errors:** </div><div>&nbsp; </div><div>- When upgrading the version of @microsoft/msportalfx-test, partners may encounter these errors when building: </div><div>&nbsp;&nbsp; 1. &quot;deprecated&quot; warnings when attempting to call `<span><span></span><span>openDirectoryPane</span><span></span></span>` on the TopBar helper (`testFx.portal.getTopBar().openDirectoryPane()`). </div><div>&nbsp;&nbsp; 2. `ContextPanes` has no exported member `DirectoryAndSubscriptionsPane` error<br> </div><div>&nbsp; </div><div>**Solution:** </div><div>&nbsp; </div><div>1. Use the `openDirectorySettings` method on the TopBar helper (`testFx.portal.getTopBar().openDirectorySettings()`) </div><div>2. Use the `SettingsFlyout` helper exposed under the `testFx.Settings` namespace (`testFx.Settings.SettingsFlyout`) to manipulate Portal settings.<br> </div><div>&nbsp; </div><div>**Reason For Breaking Change** </div><div>&nbsp; </div><div>1. `openDirectorySettings` is less specific to settings implementation in the Portal and can be modified in the test framework to always open the correct UX to view and modify Directory settings. </div><div>2. The Directory + subscriptions pane has been removed from the product for 6+ months. It needs to be replaced because the new Portal settings is not launched in a context pane so the inherited methods would no longer function as expected. </div><div><br> </div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14517964'>14517964</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14517964'>[Breaking] Remove tslint dep from linter plugin, replace regex lookbehind, add prefer-regex-literals</a><p> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"> </div><span style="box-sizing:border-box;">**Expected Errors:**<br style="box-sizing:border-box;"></span><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">- if you have a custom eslintrc file that is overriding anything from @typescript-eslint/eslint-plugin-tslint or the portals custom regex-no-lookbehind rule you will need to migrate to new rules. </div><div style="box-sizing:border-box;">-<span style="box-sizing:border-box;">&nbsp; using regex constructors will cause lint error due to new prefer-regex-literals rule. see solution and reasons below.&nbsp;</span> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Solution:**<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">- the eslint-plugin-azureportal core and recommended ruleset for the cli updates per below. note you should not need to change unless you have a custom eslintrc file, ap cli should otherwise internalize this change for you. This update&nbsp; </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><div style="box-sizing:border-box;">drops </div><div style="box-sizing:border-box;">@typescript-eslint/eslint-plugin-tslint&quot;: &quot;^5.24.0&quot;, </div> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">adds </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;"><br style="box-sizing:border-box;"></span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">&quot;eslint-plugin-deprecation&quot;: &quot;^1.3.2&quot;,<br style="box-sizing:border-box;"></span><span style="box-sizing:border-box;">&quot;eslint-plugin-es&quot;: &quot;^4.1.0&quot;,</span><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">&quot;eslint-plugin-jsdoc&quot;: &quot;^39.3.0&quot;,<br style="box-sizing:border-box;"></span> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">-&nbsp;<span style="box-sizing:border-box;display:inline !important;">prefer-regex-literals error: move to using regex literal rather then regex constructor -&nbsp;<a href="https://eslint.org/docs/rules/prefer-regex-literals" style="box-sizing:border-box;text-decoration:underline;cursor:pointer;">https://eslint.org/docs/rules/prefer-regex-literals</a></span> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><span style="box-sizing:border-box;">**Reason For Breaking Change**</span><div style="box-sizing:border-box;">- tslint is now considered legacy. we were using it for deprecation and jsdoc rules that now have public oss equivalents eslint-plugin-deprecation and eslint-plugin-jsdoc.&nbsp; </div><div style="box-sizing:border-box;">- we replaced the custom regex-no-lookbehind rule we had written as a stop gap while there was no public rule. This is now replaced with publicly maintained oss node module eslint-plugin-es rule no-regexp-lookbehind-assertions. </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">- introduction of prefer-regex-literals was introduced as es/no-regexp-lookbehind-assertions does not capture dynamically composed regex or regex assigned with let or var.&nbsp;</span><span style="box-sizing:border-box;">prefer-regex-literals will force move to an inline literal making es/no-regexp-lookbehind-assertions more effective thus reducing CRIs on Safari.&nbsp;If there is a legitimate reason for dynamically composing a regex the rule<span style="box-sizing:border-box;">&nbsp;can be disabled on a per line basis. It is advised in such cases you ensure if you are using user input for the&nbsp;</span></span><span style="box-sizing:border-box;">composed regex that you are not making yourself susceptible to injection of known regex vulns.</span><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"><div style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14510421'>14510421</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14510421'>Update Portal SDK to TypeScript 4.7</a><p><br></span><div><br> </div><div>The tooling was updated to use TypeScript 4.7 (update from TypeScript 4.4).<br> </div><div>There were no Portal-specific changes required by this upgrade, but the tooling update itself might cause some breaks in extension code.<br> </div><div>See breaking changes and changelog in the official TypeScript site: https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes<br> </div><div><br> </div><div>In addition, the npm dependencies for `@microsoft/eslint-plugin-azureportal` and others were updated to support the new syntax in TypeScript 4.6 (in particular, we updated all the packages in the `@typescript-eslint` scope, which require version 5.*). Please also be sure to update any npm dependencies in your own package.json files or global environment to use `typescript` 4.7.2 and the newer `@typescript-eslint` packages.<br> </div><div><br> </div><div>Additionally, the newer `@typescript-eslint` packages do depend on newer versions of node than the previous versions, so if you see warnings like the following, make sure to update your version of node in your environment to the latest minor version according to the version you are using. Note that the version of Nodejs used by the Portal SDK was also upgraded to v16.15.0 (so that should be considered the minimum version to upgrade to if using other Node tools).<br> </div><div>```<br> </div><div>error @typescript-eslint/eslint-plugin@5.24.0: The engine &quot;node&quot; is incompatible with this module. Expected version &quot;^12.22.0 || ^14.17.0 || &gt;=16.0.0&quot;. Got &quot;XX.XX.XX&quot;<br> </div><div>error Found incompatible module.<br> </div><div>```<br> </div><div><br> </div><span></p></td></tr></table>

## 10.40.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14461196'>14461196</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14461196'>Convert Portal framework APIs from Q.Promise to native Promise</a><p> </div><div> </div><div style="box-sizing:border-box;">To improve performance the Portal framework is standardizing on native Promises.&nbsp; All framework APIs have been updated to use the native Promise type instead of Q.Promise.&nbsp; In most cases this will compile without error.&nbsp; However, in some case you may need to convert to a native Promise or a Q.Promise (which extends native Promise in the portal.) </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><span>To help aid in this process the Q.Promise implementation in the Portal framework is now type and run-time compatible with native Promises.</span><span>&nbsp;</span><span>This means that you can continue to pass Q.Promise to APIs that are now typed Promise without error. For APIs that used to return Q.Promise and now return Promise you can wrap the return value with Q() as required.&nbsp; In both cases you now have the option of removing Q.Promise and using native Promises.</span><br> </div><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><span style="box-sizing:border-box;"><br style="box-sizing:border-box;"></span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">Below is a list of the affected APIs:</span> </div> </div><div><ul><li><span>&quot;Fx/Assets/AssetTypes&quot; getAllAssetTypes</span> </li><li>&quot;Fx/ClientIp&quot; </li><li>&quot;Fx/Composition/Blade&quot; Contract.onRebind </li><li>&quot;Fx/Composition/Blade&quot; DoesProvisioningAndPostProvisioningClass.createPostProvisioningContent </li><li>&quot;Fx/Composition/BladeBase&quot; ReturnsData.Container.closeCurrentBlade </li><li>&quot;Fx/Composition/BladeBase&quot; DoesProvisioning.Provisioning.validateTemplate </li><li>&quot;Fx/Composition/BladeBase&quot; DoesProvisioning.Provisioning.deployTemplate </li><li>&quot;Fx/Composition/BladeBase&quot; DoesProvisioning.Provisioning.deployCustom </li><li>&quot;Fx/Composition/ButtonPart&quot; MsPortalFxButtonPart.Contract.onInitialize </li><li>&quot;Fx/Composition/ButtonPart&quot; MsPortalFxButtonPart.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.EqualityFilter.Options.getFilterValues </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.SubscriptionFilter.Options.getSubscriptionIds </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.LocationFilter.Options.getLocations </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.ResourceGroupFilter.Options.getResourceGroupIds </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.ResourceTypeFilter.Options.getResourceTypes </li><li>&quot;Fx/Composition/Dialog&quot; BaseDialogManagement.openDialog </li><li>&quot;Fx/Composition/Dialog&quot; DialogManagement.openDialog </li><li>&quot;Fx/Composition/FrameBlade&quot; MsPortalFxFrameBlade.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/FrameBlade&quot; MsPortalFxFrameBlade.DoesProvisioning.DoesProvisioningAndPostProvisioningClass.createPostProvisioningContent </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.ViewModelBase.waitForFrameReady </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Filterable.Contract.onRebind </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Filterable.Contract.getDynamicFilterDefinitions </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Filterable.Contract.getLocalizedFilterValues </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Filterable.Context.dashboard.filtering.updateFilters </li><li>&quot;Fx/Composition/MenuBlade&quot; MsPortalFxMenuBlade.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Filterable.Contract.onRebind </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Filterable.Contract.getDynamicFilterDefinitions </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Filterable.Contract.getLocalizedFilterValues </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Filterable.Context.dashboard.filtering.updateFilters </li><li>&quot;Fx/Composition/Pdl/Blade&quot; Container.closeCurrentBlade </li><li>&quot;Fx/Composition/Pdl/Blade&quot; Container.closeChildBlade </li><li>&quot;Fx/Composition/Pdl/Blade&quot; Container.closeContextBlade </li><li>&quot;Fx/Composition/TemplateBlade&quot; MsPortalFxTemplateBlade.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/TemplateBlade&quot; MsPortalFxTemplateBlade.DoesProvisioning.DoesProvisioningAndPostProvisioningClass.createPostProvisioningContent </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Filterable.Contract.onRebind </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Filterable.Contract.getDynamicFilterDefinitions </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Filterable.Contract.getLocalizedFilterValues </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Filterable.Context.dashboard.filtering.updateFilters </li><li>&quot;Fx/Composition/ViewModelBase&quot; Contract.onInitialize </li><li>&quot;Fx/Composition/ViewModelBase&quot; Container.setFocus </li><li>&quot;Fx/DirectoryManagement&quot; getUserDirectorySettings </li><li>&quot;Fx/DirectoryManagement&quot; saveUserDirectorySettings </li><li>&quot;Fx/Feedback&quot; canShowNps </li><li>&quot;Fx/Redirect&quot; forceSignIn </li><li>&quot;Fx/ResourceManagement&quot; getBrowseBladeReference </li><li>&quot;Fx/ResourceManagement&quot; onSelectedSubscriptionsChange </li><li>&quot;Fx/ResourceManagement/Provisioning&quot; DeployCustomOptions.provisioningPromise </li><li>&quot;Fx/DependencyInjectionCore&quot; Container.getAsync </li><li>&quot;Fx/DependencyInjectionCore&quot; ConfigurableContainer.disposeAsync </li><li>&quot;Fx/Experimentation&quot; Experimentation.getExtensionFlights </li><li>&quot;Fx/Pinner&quot; pin </li><li><span>MsPortalFx.Assets.mapDynamicBladeSelectionToBladeReference</span> </li><li>MsPortalFx.Assets.mapAssetIdToDynamicSelectionAndIcon </li><li>MsPortalFx.Assets.mapAssetIdToBladeReference </li><li>MsPortalFx.Assets.mapResourceIdToBladeReference </li><li>FxImpl.Assets.supplyMenuDetailBladeReferenceAsync </li><li>FxImpl.Azure.getLocationDisplayNames </li><li>MsPortalFx.Azure.getLocations </li><li>MsPortalFx.Azure.ResourceGroups.Internal.validateResourceGroupName </li><li>MsPortalFx.Azure.ResourceGroups.validateResourceGroupName </li><li>MsPortalFx.Azure.ResourceManager.deployTemplate </li><li>MsPortalFx.Azure.ResourceManager.pollForTemplate </li><li>MsPortalFx.Azure.ResourceManager.validateTemplate </li><li>MsPortalFx.Azure.ResourceManager.Deployments.deployTemplate </li><li>MsPortalFx.Azure.ResourceManager.Deployments.pollForTemplate </li><li>MsPortalFx.Azure.ResourceManager.Deployments.validateTemplate </li><li>FxImpl.Azure.Provisioner.Provisioner.deploymentStartedPromise </li><li>FxImpl.Azure.Provisioner.Provisioner._validateTemplate </li><li>FxImpl.Azure.Provisioner.Provisioner. _supplyProvisioningPromise </li><li>FxImpl.Azure.canRegisterSubscriptionWithRPs </li><li>MsPortalFx.Azure.getSubscriptionInfo </li><li>MsPortalFx.Azure.getSelectedSubscriptions </li><li>MsPortalFx.Azure.RequiredPermissionsValidatorCallback </li><li>MsPortalFx.Base.IDebouncer.flush </li><li>MsPortalFx.Base.Debouncer.flush </li><li>MsPortalFx.Base.Diagnostics.Telemetry.TelemetryEventProcessor.flush </li><li>MsPortalFx.Base.Diagnostics.Telemetry.flush </li><li>KnockoutFxExt.fxAwait </li><li>KnockoutSubscribable.fxAwaitAndRun </li><li>MsPortalFx.Base.Net2.Internal.AjaxCaller.initialize </li><li>MsPortalFx.Base.Net2.initialize </li><li>MsPortalFx.Base.Promises.makeCancelable </li><li>MsPortalFx.Base.Promises.cancelOnDispose </li><li>FxImpl.Rpc.Client.acquireObject </li><li>FxImpl.Rpc.ActionEndPointDefinition.invoke </li><li>FxImpl.Rpc.FuncEndPointDefinition.invoke </li><li>FxImpl.Rpc.ProxiedObjectTypeDefinition.acquireObject </li><li>MsPortalFx.Base.setSchedulerRunTask </li><li>MsPortalFx.Base.Security.IAuthTokenCache.getToken </li><li>MsPortalFx.Base.Security.createAuthTokenCache </li><li>MsPortalFx.Base.Security.hasPermission </li><li>FxImpl.Security.AuthTokenCacheImpl </li><li>FxImpl.Security.AuthTokenCacheImpl.getToken </li><li>FxImpl.Composition.Selectable.Selectable2Options.supplyBladeReferenceAsync </li><li>FxImpl.SelectableShellInterface.fetchRequest </li><li>FxImpl.Extension.getRuntime </li><li>FxImpl.requireReady </li><li>FxImpl.requireExtension </li><li>MsPortalFx.Services.Rpc.invokeCallback </li><li>MsPortalFx.require </li><li>MsPortalFx.ViewModels.getValidationResultPromise </li><li>MsPortalFx.ViewModels.FileUpload.AsyncUploadWidgetTask._execCallback </li><li>FxImpl.FileUpload.getUploadInfos </li><li>FxImpl.FileUpload.getResumableUploadInfos </li><li>FxImpl.FileUpload.getAsyncUploadTasks </li><li>MsPortalFx.ViewModels.Forms.AsyncFileUpload.execUpload </li><li>FxImpl.ViewModels.ParameterCollectionV3.getProvisioningOperation </li><li>MsPortalFx.ViewModels.ParameterCollectionV3.Provisioner.Config.postProvisioningBladeInputs </li><li>MsPortalFx.ViewModels.DialogManagement.openDialog </li><li>MsPortalFx.ViewModels.PartContainerContract.setFocus </li><li><span>&quot;FxInternal&quot; tryImmediateResolve</span> </li><li>&quot;FxInternal/AsyncLoaderCore&quot; get </li><li>&quot;FxInternal/Experimentation&quot; ExperimentationManager.getExtensionFlights </li><li>&quot;FxInternal/Rpc&quot; PendingObjectTable.create </li><li>&quot;FxInternal/Rpc&quot; Client.invokeRpc </li><li>&quot;FxInternal/Rpc&quot; ActionEndPointDefinitionBase.invoke </li><li>&quot;FxInternal/Rpc&quot; FuncEndPointDefinitionBase.invoke </li><li><span>MsPortalFx.retryPromise</span> </li><li>MsPortalFx.tryImmediateFinally </li><li>MsPortalFx.tryImmediateResolve </li> </ul><div><span></span> </div> </div><div></p></td></tr></table>

## 10.39.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14486962'>14486962</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14486962'>Convert Q specific framework APIs to native Promise</a><p> </div><div><span>To improve performance the Portal framework is standardizing on native Promises.&nbsp; There are a few framework APIs that were designed around Q promises and are being deprecated, obsoleted, or removed.</span> </div><div><br> </div><div><b>MsPortalFx.memoizeQ</b> </div><div>The memoizeQ API has been deprecated.&nbsp; A new API memoizePromise has been added.&nbsp; You can fix eslint deprecation errors by using memoizePromise from the &quot;Fx&quot; module. </div><div><br> </div><pre><code><div>import { memoizePromise } from &quot;Fx&quot;;</div></code></pre><div>&nbsp; </div><div><b>FxImpl.QReject</b> </div><div>The QReject API is obsolete.&nbsp; The QReject API is an internal framework API that should not be used by extensions.&nbsp; If you are using it you will get a compilation error.&nbsp; It can be replaced with Promise.reject or Q.reject. </div><div><br> </div><div><b>QDebouncer</b> </div><div>The QDebouncer API was removed many years ago.&nbsp; However, many of the associated interfaces were left in the portal framework.&nbsp; These types have been removed.&nbsp; If you are using these interfaces you should define extension specific interfaces to use instead. </div><div><ul><li><span>MsPortalFx.QDebouncerCancelDispose</span> </li><li>MsPortalFx.QDebouncerReturnAny </li><li>MsPortalFx.QDebouncerReturn </li><li>MsPortalFx.QDebouncerReturn1 </li><li>MsPortalFx.QDebouncerReturn2 </li><li>MsPortalFx.QDebouncerReturn3 </li><li>MsPortalFx.QDebouncerCallback </li> </ul><span></span> </div><div></p></td></tr></table>

## 10.38.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14469554'>14469554</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14469554'>Update Portal SDK and tools to use Node v16</a><p><br></span> </div><div><br> </div><div>**Expected Errors:**<br> </div><div><br> </div><div>- The Portal SDK is updating the version of Node used internally from version 12 to 16.&nbsp;<span>The NPM packages that portal ships were also updated to require the node engine to be &gt;=16.15, and npm &gt;=8.3. Projects that depend on these npm packages should also be updated to require at least those versions.</span> </div><div><br> </div><div><span style="display:inline !important;">** Solution:**</span><br> </div><div><span style="display:inline !important;"><br></span> </div><div><span style="display:inline !important;">- Update your development environments and any CI/CD pipelines that make use of node to use the v16 LTS &gt;= 16.15.0 or later -&nbsp;<a href="https://nodejs.org/en/download/">https://nodejs.org/en/download/</a></span> </div><div><br> </div><div>-&nbsp;<span>If you are running UI tests based on azureportal-test and you are seeing error `done() called multiple times in test`, this may be due upgrading to Node 16 which has started surfacing errors thrown by async calls. &nbsp;Try verifying the following in your code:<br></span><div>&nbsp; &nbsp; - Call `await` on functions/properties that return a promise type.<br> </div><div>&nbsp; &nbsp; &nbsp; &nbsp; - eg: `switchDashboard(destinationDashboardTitle);` should be &nbsp; &nbsp;`await switchDashboard(destinationDashboardTitle);`<br> </div><div>&nbsp; &nbsp; - Don't call `await` on functions/properties that do not return a promise type.<br> </div><div>&nbsp; &nbsp; &nbsp; &nbsp; - The `ElementArrayFinder` type is not a promise. &nbsp;Do not `await` on it.<br> </div><span>&nbsp; &nbsp; - You can use [es-lint](https://eslint.org/) rules such as [await-thenable](https://github.com/typescript-eslint/typescript-eslint/blob/main/packages/eslint-plugin/docs/rules/await-thenable.md) and [no-floating-promises](https://github.com/typescript-eslint/typescript-eslint/blob/main/packages/eslint-plugin/docs/rules/no-floating-promises.md) to help (note they are not perfect).</span> </div><div><br> </div><div>**Reason For Breaking Change**<br> </div><div><br> </div><div>Node v12 was recently deprecated and we updated to the current LTS version of Node. We also stopped internally shipping the PortalFx.NodeJS12 NuGet package and there is no partner-facing replacement for the package. The newly created package called PortalFx.Internal.NodeJS is not to be used by extension developer teams, and we don't guarantee there will not be breaking changes in it.<br> </div><div><br> </div><span></p></td></tr></table>

## 10.35.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14461196'>14461196</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14461196'>Convert Portal framework APIs from Q.Promise to native Promise</a><p> </div><div> </div><div style="box-sizing:border-box;">To improve performance the Portal framework is standardizing on native Promises.&nbsp; All framework APIs have been updated to use the native Promise type instead of Q.Promise.&nbsp; In most cases this will compile without error.&nbsp; However, in some case you may need to convert to a native Promise or a Q.Promise (which extends native Promise in the portal.) </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><span>To help aid in this process the Q.Promise implementation in the Portal framework is now type and run-time compatible with native Promises.</span><span>&nbsp;</span><span>This means that you can continue to pass Q.Promise to APIs that are now typed Promise without error. For APIs that used to return Q.Promise and now return Promise you can wrap the return value with Q() as required.&nbsp; In both cases you now have the option of removing Q.Promise and using native Promises.</span><br> </div><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><span style="box-sizing:border-box;"><br style="box-sizing:border-box;"></span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">Below is a list of the affected APIs:</span> </div> </div><div><ul><li><span>&quot;Fx/Assets/AssetTypes&quot; getAllAssetTypes</span> </li><li>&quot;Fx/ClientIp&quot; </li><li>&quot;Fx/Composition/Blade&quot; Contract.onRebind </li><li>&quot;Fx/Composition/Blade&quot; DoesProvisioningAndPostProvisioningClass.createPostProvisioningContent </li><li>&quot;Fx/Composition/BladeBase&quot; ReturnsData.Container.closeCurrentBlade </li><li>&quot;Fx/Composition/BladeBase&quot; DoesProvisioning.Provisioning.validateTemplate </li><li>&quot;Fx/Composition/BladeBase&quot; DoesProvisioning.Provisioning.deployTemplate </li><li>&quot;Fx/Composition/BladeBase&quot; DoesProvisioning.Provisioning.deployCustom </li><li>&quot;Fx/Composition/ButtonPart&quot; MsPortalFxButtonPart.Contract.onInitialize </li><li>&quot;Fx/Composition/ButtonPart&quot; MsPortalFxButtonPart.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.EqualityFilter.Options.getFilterValues </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.SubscriptionFilter.Options.getSubscriptionIds </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.LocationFilter.Options.getLocations </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.ResourceGroupFilter.Options.getResourceGroupIds </li><li>&quot;Fx/Composition/DashboardFilters&quot; MsPortalFxDashboardFilters.ResourceTypeFilter.Options.getResourceTypes </li><li>&quot;Fx/Composition/Dialog&quot; BaseDialogManagement.openDialog </li><li>&quot;Fx/Composition/Dialog&quot; DialogManagement.openDialog </li><li>&quot;Fx/Composition/FrameBlade&quot; MsPortalFxFrameBlade.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/FrameBlade&quot; MsPortalFxFrameBlade.DoesProvisioning.DoesProvisioningAndPostProvisioningClass.createPostProvisioningContent </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.ViewModelBase.waitForFrameReady </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Filterable.Contract.onRebind </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Filterable.Contract.getDynamicFilterDefinitions </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Filterable.Contract.getLocalizedFilterValues </li><li>&quot;Fx/Composition/FramePart&quot; MsPortalFxFramePart.Filterable.Context.dashboard.filtering.updateFilters </li><li>&quot;Fx/Composition/MenuBlade&quot; MsPortalFxMenuBlade.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Filterable.Contract.onRebind </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Filterable.Contract.getDynamicFilterDefinitions </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Filterable.Contract.getLocalizedFilterValues </li><li>&quot;Fx/Composition/Part&quot; MsPortalFxPart.Filterable.Context.dashboard.filtering.updateFilters </li><li>&quot;Fx/Composition/Pdl/Blade&quot; Container.closeCurrentBlade </li><li>&quot;Fx/Composition/Pdl/Blade&quot; Container.closeChildBlade </li><li>&quot;Fx/Composition/Pdl/Blade&quot; Container.closeContextBlade </li><li>&quot;Fx/Composition/TemplateBlade&quot; MsPortalFxTemplateBlade.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/TemplateBlade&quot; MsPortalFxTemplateBlade.DoesProvisioning.DoesProvisioningAndPostProvisioningClass.createPostProvisioningContent </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Rebindable.Contract.onRebind </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Filterable.Contract.onRebind </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Filterable.Contract.getDynamicFilterDefinitions </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Filterable.Contract.getLocalizedFilterValues </li><li>&quot;Fx/Composition/TemplatePart&quot; MsPortalFxPart.Filterable.Context.dashboard.filtering.updateFilters </li><li>&quot;Fx/Composition/ViewModelBase&quot; Contract.onInitialize </li><li>&quot;Fx/Composition/ViewModelBase&quot; Container.setFocus </li><li>&quot;Fx/DirectoryManagement&quot; getUserDirectorySettings </li><li>&quot;Fx/DirectoryManagement&quot; saveUserDirectorySettings </li><li>&quot;Fx/Feedback&quot; canShowNps </li><li>&quot;Fx/Redirect&quot; forceSignIn </li><li>&quot;Fx/ResourceManagement&quot; getBrowseBladeReference </li><li>&quot;Fx/ResourceManagement&quot; onSelectedSubscriptionsChange </li><li>&quot;Fx/ResourceManagement/Provisioning&quot; DeployCustomOptions.provisioningPromise </li><li>&quot;Fx/DependencyInjectionCore&quot; Container.getAsync </li><li>&quot;Fx/DependencyInjectionCore&quot; ConfigurableContainer.disposeAsync </li><li>&quot;Fx/Experimentation&quot; Experimentation.getExtensionFlights </li><li>&quot;Fx/Pinner&quot; pin </li><li><span>MsPortalFx.Assets.mapDynamicBladeSelectionToBladeReference</span> </li><li>MsPortalFx.Assets.mapAssetIdToDynamicSelectionAndIcon </li><li>MsPortalFx.Assets.mapAssetIdToBladeReference </li><li>MsPortalFx.Assets.mapResourceIdToBladeReference </li><li>FxImpl.Assets.supplyMenuDetailBladeReferenceAsync </li><li>FxImpl.Azure.getLocationDisplayNames </li><li>MsPortalFx.Azure.getLocations </li><li>MsPortalFx.Azure.ResourceGroups.Internal.validateResourceGroupName </li><li>MsPortalFx.Azure.ResourceGroups.validateResourceGroupName </li><li>MsPortalFx.Azure.ResourceManager.deployTemplate </li><li>MsPortalFx.Azure.ResourceManager.pollForTemplate </li><li>MsPortalFx.Azure.ResourceManager.validateTemplate </li><li>MsPortalFx.Azure.ResourceManager.Deployments.deployTemplate </li><li>MsPortalFx.Azure.ResourceManager.Deployments.pollForTemplate </li><li>MsPortalFx.Azure.ResourceManager.Deployments.validateTemplate </li><li>FxImpl.Azure.Provisioner.Provisioner.deploymentStartedPromise </li><li>FxImpl.Azure.Provisioner.Provisioner._validateTemplate </li><li>FxImpl.Azure.Provisioner.Provisioner. _supplyProvisioningPromise </li><li>FxImpl.Azure.canRegisterSubscriptionWithRPs </li><li>MsPortalFx.Azure.getSubscriptionInfo </li><li>MsPortalFx.Azure.getSelectedSubscriptions </li><li>MsPortalFx.Azure.RequiredPermissionsValidatorCallback </li><li>MsPortalFx.Base.IDebouncer.flush </li><li>MsPortalFx.Base.Debouncer.flush </li><li>MsPortalFx.Base.Diagnostics.Telemetry.TelemetryEventProcessor.flush </li><li>MsPortalFx.Base.Diagnostics.Telemetry.flush </li><li>KnockoutFxExt.fxAwait </li><li>KnockoutSubscribable.fxAwaitAndRun </li><li>MsPortalFx.Base.Net2.Internal.AjaxCaller.initialize </li><li>MsPortalFx.Base.Net2.initialize </li><li>MsPortalFx.Base.Promises.makeCancelable </li><li>MsPortalFx.Base.Promises.cancelOnDispose </li><li>FxImpl.Rpc.Client.acquireObject </li><li>FxImpl.Rpc.ActionEndPointDefinition.invoke </li><li>FxImpl.Rpc.FuncEndPointDefinition.invoke </li><li>FxImpl.Rpc.ProxiedObjectTypeDefinition.acquireObject </li><li>MsPortalFx.Base.setSchedulerRunTask </li><li>MsPortalFx.Base.Security.IAuthTokenCache.getToken </li><li>MsPortalFx.Base.Security.createAuthTokenCache </li><li>MsPortalFx.Base.Security.hasPermission </li><li>FxImpl.Security.AuthTokenCacheImpl </li><li>FxImpl.Security.AuthTokenCacheImpl.getToken </li><li>FxImpl.Composition.Selectable.Selectable2Options.supplyBladeReferenceAsync </li><li>FxImpl.SelectableShellInterface.fetchRequest </li><li>FxImpl.Extension.getRuntime </li><li>FxImpl.requireReady </li><li>FxImpl.requireExtension </li><li>MsPortalFx.Services.Rpc.invokeCallback </li><li>MsPortalFx.require </li><li>MsPortalFx.ViewModels.getValidationResultPromise </li><li>MsPortalFx.ViewModels.FileUpload.AsyncUploadWidgetTask._execCallback </li><li>FxImpl.FileUpload.getUploadInfos </li><li>FxImpl.FileUpload.getResumableUploadInfos </li><li>FxImpl.FileUpload.getAsyncUploadTasks </li><li>MsPortalFx.ViewModels.Forms.AsyncFileUpload.execUpload </li><li>FxImpl.ViewModels.ParameterCollectionV3.getProvisioningOperation </li><li>MsPortalFx.ViewModels.ParameterCollectionV3.Provisioner.Config.postProvisioningBladeInputs </li><li>MsPortalFx.ViewModels.DialogManagement.openDialog </li><li>MsPortalFx.ViewModels.PartContainerContract.setFocus </li><li><span>&quot;FxInternal&quot; tryImmediateResolve</span> </li><li>&quot;FxInternal/AsyncLoaderCore&quot; get </li><li>&quot;FxInternal/Experimentation&quot; ExperimentationManager.getExtensionFlights </li><li>&quot;FxInternal/Rpc&quot; PendingObjectTable.create </li><li>&quot;FxInternal/Rpc&quot; Client.invokeRpc </li><li>&quot;FxInternal/Rpc&quot; ActionEndPointDefinitionBase.invoke </li><li>&quot;FxInternal/Rpc&quot; FuncEndPointDefinitionBase.invoke </li><li><span>MsPortalFx.retryPromise</span> </li><li>MsPortalFx.tryImmediateFinally </li><li>MsPortalFx.tryImmediateResolve </li> </ul><div><span></span> </div> </div><div></p></td></tr></table>

## 10.32.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14458284'>14458284</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14458284'>When a non-fallback property is defined in default.json but is missing from an environment, issue a warning + deprecate HideAssetTypes and ShowAssetTypes in config .JSON</a><p> </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;">We are deprecating the HideAssetTypes and ShowAssetTypes from the configuration .JSON files. </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;">HideAssetTypes: </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;">recipe: { &quot;hideAssetTypes&quot;: [&quot;asset-type1&quot;, &quot;asset-type2&quot;] } </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;">becomes: { &quot;assetTypeOptions&quot;: {&nbsp;<span style="display:inline !important;">&quot;asset-type1&quot;: { &quot;options&quot;: &quot;HideAssetType&quot; }, &quot;asset-type2&quot;: { &quot;options&quot;: &quot;HideAssetType&quot; } } }</span> </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;"><div style="box-sizing:border-box;"><br>ShowAssetTypes: </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">recipe: { &quot;showAssetTypes&quot;: [&quot;asset-type1&quot;, &quot;asset-type2&quot;] } </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">becomes: { &quot;assetTypeOptions&quot;: {&nbsp;<span style="box-sizing:border-box;display:inline !important;">&quot;asset-type1&quot;:<span>&nbsp;</span>{ &quot;options&quot;: &quot;ShowAssetType&quot; }, &quot;asset-type2&quot;:<span>&nbsp;</span>{ &quot;options&quot;: &quot;ShowAssetType&quot; }<span>&nbsp;</span>} }</span> </div><div style="box-sizing:border-box;"><br> </div> </div><div style="box-sizing:border-box;"></p></td></tr></table>

## 10.23.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14445474'>14445474</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14445474'>Remove and obsolete deprecated promise APIs</a><p> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);">The portal framework is standardizing on native promises.&nbsp; Several deprecated promise types have been removed or obsoleted.&nbsp; </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"><div style="box-sizing:border-box;"><ul style="box-sizing:border-box;padding:0px 0px 0px 20px;"><li style="box-sizing:border-box;"><span style="box-sizing:border-box;">MsPortalFx.Base.Internal.ThenableV - use native PromiseLike instead</span> </li><li style="box-sizing:border-box;">MsPortalFx.Base.Internal.PromiseBase - use native Promise instead </li><li style="box-sizing:border-box;">MsPortalFx.NativePromise<span style="box-sizing:border-box;"><span style="box-sizing:border-box;">&nbsp;</span>- use native Promise instead</span> </li><li style="box-sizing:border-box;">MsPortalFx.Base.PromiseN<span style="box-sizing:border-box;"><span style="box-sizing:border-box;">&nbsp;</span>- use native Promise or Q.Promise instead</span> </li><li style="box-sizing:border-box;">MsPortalFx.Base.PromiseVN<span style="box-sizing:border-box;"><span style="box-sizing:border-box;">&nbsp;</span>- use native Promise or Q.Promise instead</span> </li><li style="box-sizing:border-box;">MsPortalFx.Base.PromiseV<span style="box-sizing:border-box;"><span style="box-sizing:border-box;">&nbsp;</span>- use native Promise instead</span> </li><li style="box-sizing:border-box;">MsPortalFx.Base.Promise<span style="box-sizing:border-box;"><span style="box-sizing:border-box;">&nbsp;</span>- use native Promise&lt;any&gt; instead</span> </li><li style="box-sizing:border-box;"><span style="box-sizing:border-box;">MsPortalFx.Base.Promises.wrapWithCancelablePromise - use makeCancelable or cancelOnDispose instead</span><br style="box-sizing:border-box;"> </li> </ul> </div><span style="box-sizing:border-box;"></span><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;margin:0px;color:rgba(255, 255, 255, 0.95);background-color:rgb(32, 31, 30);"></p></td></tr></table>

## 10.18.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14338867'>14338867</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14338867'>Changes to ArmId in FX and in react</a><p><br style="box-sizing:border-box;"></span><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;">**Expected Errors:** Usages of the following properties will result in deprecation eslint errors at authoring time: </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;">ArmId.resourceIds has been deprecated, please change to use ArmId.getResourceNames() (meaning has not changed) </div><div style="box-sizing:border-box;">ArmId.resourceTypes has been deprecated, please change to use ArmId.getResourceTypes() (meaning has not changed but optionally can include the provider) </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;">There should be no expected runtime breaks with the old properties, the deprecated properties will be used as shadow of the new API for six months. </div><div style="box-sizing:border-box;"><br> </div><div style="box-sizing:border-box;"><b>ArmId.resourceIds:</b> </div><div><br> </div>recipe: name = MsPortalFx.last(armId.resourceIds)<br><div><br> </div><div>becomes: name = MsPortalFx.last(ArmId.getResourceNames(armId))<br> </div><div><br> </div><b>ArmId.resourceTypes:</b><br><br>recipe: type = MsPortalFx.last(armId.resourceTypes)<br><div><br> </div><div>becomes: type = MsPortalFx.last(ArmId.getResourceTypes(armId))<br> </div><div><br> </div><b>Reason for breaking change:</b> </div><div>A partner approached us we some concerns that resourceTypes was an array that did not include the provider but the resourceType property did include the provider.&nbsp; As well, resourceIds was an array of resource names in the source ID but resource IDs was a confused name for the property (and did not match the resourceName property).&nbsp; This was the reason for the name changes.&nbsp; To avoid confused, the resourceIds and resourceTypes arrays were removed.&nbsp; Existing code should change to use the APIs instead. </div><div><br> </div><div><b>Additional APIs:</b> </div><div>While we made this change, we added a few more APIs to help with ARM IDs: </div><div><br> </div><div>ArmId.hasParentResourceId(armId: ArmId): boolean - will return boolean true if the given armId was a resource ID and has a parent resource ID (armId points to a child resource) </div><div><br> </div><div>ArmId.getParentResourceId(armId: ArmId): ArmId - will return the parent resource ArmId&nbsp;<span style="display:inline !important;">if the given armId was a resource ID and has a parent resource ID (armId points to a child resource), otherwise null</span> </div><div><br> </div><div><div style="box-sizing:border-box;">ArmId.getRootResourceId(armId: ArmId): ArmId - will return the root (topmost parent) resource ArmId&nbsp;<span style="box-sizing:border-box;display:inline !important;">if the given armId was a resource ID and has a parent resource ID (armId points to a child resource), otherwise null</span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;"><br></span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;display:inline !important;">ArmId.getResourceTypeWithoutProvider(armId: ArmId): string - will return the resource type for the armId if the given armId was a resource ID without the provider (namespace) prefix.&nbsp; ie, if armId.resourceType is &quot;Microsoft.compute/virtualMachines&quot;, then this will return &quot;virtualMachines&quot;</span> </div><br></p></td></tr></table>

## 10.14.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14407406'>14407406</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14407406'>Remove obsolete error handling APIs</a><p> </div><div>Some obsolete error handling APIs are being removed from the framework.&nbsp; These APIs should not be in use.&nbsp; Please remove any remaining usages. </div><div><ul><li>MsPortalFx.Base.Diagnostics.setPromiseErrorCapturePeriod </li><li>MsPortalFx.Base.Diagnostics.clearPromiseErrorCaptureTimeout </li><li><span style="font-weight:inherit;">Q.onerror</span> </li><li>Q.longStackSupport </li><li>Q.getUnhandledReasons </li><li>Q.resetUnhandledRejections </li><li>Q.Promise.fin </li><li>Q.Promise.fail </li> </ul> </div><div><span style="font-weight:inherit;"></p></td></tr></table>

## 10.11.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=13457684'>13457684</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=13457684'>Remove Obsolete0 bundle</a><p> </div><div>The Obsolete0 bundle has been deleted.&nbsp; The bundle contained obsolete Parameter Collection V1/V2 APIs.&nbsp; All teams have stopped using these APIs since the start of 2022. </div><div><br> </div><div>If you run into any compilation issues with Obsolete0 you should remove the related code. </div><div><br> </div><div>The following types are being removed: </div><div><ul><li><span>MsPortalFx.ViewModels.ParameterCollection.ParameterProvider</span> </li><li>MsPortalFx.ViewModels.ParameterCollection.Internal.OnCollectorBindingInternalsReceivedResult </li><li>MsPortalFx.ViewModels.ParameterCollection.Internal.CommitProviderOptions </li><li>MsPortalFx.ViewModels.ParameterCollection.Internal.ProviderBase </li><li>MsPortalFx.ViewModels.ParameterCollection.BaseCommandContract </li><li>MsPortalFx.ViewModels.ParameterCollection.BaseCommandViewModel </li><li>MsPortalFx.ViewModels.ParameterCollection.FormPartContract </li><li>MsPortalFx.ViewModels.ParameterCollection.BaseFormViewModel </li><li>MsPortalFx.ViewModels.ParameterCollection.PickerList </li><li>MsPortalFx.ViewModels.ParameterCollection.PickerListPartContract </li><li>MsPortalFx.ViewModels.ParameterCollection.BasePickerListViewModel </li><li>MsPortalFx.ViewModels.ParameterCollection.WizardPartContract </li><li>MsPortalFx.ViewModels.ParameterCollection.BaseWizardViewModel </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.EditScope </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.EditScopeFactory </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ParameterCollectorPdlBinding </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ParameterProviderPdlBinding </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.CollectorBindingInternals </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ProviderBindingInternals </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ProvisionerBindingInternals </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ParameterCollector </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ParameterCollectorOptions </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ParameterCollectorFactory </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ParameterProvider </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ParameterProviderFactory </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ProviderCommitOptions </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.Provisioner </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ProvisionerFactory </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ProvisioningCommandStatus </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Internal.ProvisioningCommand </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.InputParameters </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.InputMetadata </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.ParameterCollectionOptions </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.OutputParameters </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.ParameterCollectionInput </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.ParameterCollectionOutput </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.ParameterMetadata </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.ParameterMetadataConstraints </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.ParameterCollectionError </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Roles.ParameterCollector </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Roles.CollectorCallbacks </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Roles.ParameterProvider </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Roles.Provisioner </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.ParameterSetCollection </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Utilities.modelToParameters </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Utilities.parametersToModel </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Utilities.getPreviousOutputsFromOptions </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.CommandContract </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.CommandRoles </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Command </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.FormPartContract </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.FormRoles </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Form </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.PickerPartContract </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.PickerRoles </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Picker </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.WizardRoles </li><li>MsPortalFx.ViewModels.ParameterCollectionV2.Wizard </li><li>MsPortalFx.ViewModels.PickerFilter.FilteredItem </li><li>MsPortalFx.ViewModels.PickerFilter.IPickerItemsFilter </li><li>MsPortalFx.ViewModels.PickerFilter.ArmRbacFilter </li> </ul><span></span> </div><div></p></td></tr></table>

## 10.3.0.1
<table><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14267640'>14267640</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14267640'>Stop rendering untrusted html </a><p> </div><div><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">The portal has stopped rendering untrusted html in RC, dogfood, MPAC, and Preview.&nbsp; The portal will be slowly rolling out the change to production environments.&nbsp; You may notice some blades rendering html as text. </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;"><br> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">For several years the Portal framework has been logging errors similar to
the following. </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;"><br> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:.5in;"><span style="font-family:Consolas;">Html
injections in string text properties are not accepted anymore.</span> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:.5in;"><span style="font-family:Consolas;">Please
make use of an alternative HtmlContent value for your &quot;{property}&quot;
field.</span> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:.5in;"><span style="font-family:Consolas;">The injected property in question is &quot;{html} &quot;.</span> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">&nbsp; </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">If your extension was logging these errors you should check
your usage of these APIs.&nbsp; Per the error message the most likely fix will
be change from assigning an html string directly to a property and instead
assign an HtmlContent object containing the html string. &nbsp;For instance
code like the following: </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">&nbsp; </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:.5in;"><span style="font-family:Consolas;">some.property
= &lt;div&gt;some html&lt;/div&gt;;</span> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">&nbsp; </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">would change to: </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">&nbsp; </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:.5in;"><span style="font-family:Consolas;">some.property
= {</span> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:.5in;"><span style="font-family:Consolas;">&nbsp;&nbsp;&nbsp;
htmlTemplate: &lt;div&gt;some html&lt;/div&gt;,</span> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:.5in;"><span style="font-family:Consolas;">&nbsp;&nbsp;&nbsp;
viewModel: optionalViewModel,</span> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:.5in;"><span style="font-family:Consolas;">};</span> </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">&nbsp; </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">The APIs affected are early portal APIs that allowed both
plain text and html to be assigned directly.&nbsp; Newer APIs were created
without this ability. &nbsp;This ability is problematic because you could be
assigning an unsafe string value that comes from a user.&nbsp; This can be an
attack vector. </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">&nbsp; </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">Any assignment of a string directly to one of
these APIs will be considered unsafe and it will be rendered encoded as
text.&nbsp; Here is the expected usage of these APIs now: </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">&nbsp; </p><ul style="margin-bottom:0in;margin-top:0in;">
 <li style="margin:0in 0in 0in 0.5in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:0in;"><span>For untrusted text that
     may come from a user, extensions should use a string with the property. If
     the string contains html it will be encoded and displayed as text.</span> </li>
 <li style="margin:0in 0in 0in 0.5in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:0in;"><span>For trusted html
     extensions should use HtmlContent with the property. The htmlTemplate will
     be sanitized first and then injected in the dom and bound to the viewModel
     if supplied.</span> </li>
 <li style="margin:0in 0in 0in 0.5in;font-size:11pt;font-family:Calibri, sans-serif;margin-left:0in;"><span>For untrusted text binding
     within the trusted template extensions should use the knockout text
     binding (which will also encode as text). There is no need to manually
     encode untrusted text and concatenate it into a template.</span> </li> </ul><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;">&nbsp; </p><p style="margin:0in;font-size:11pt;font-family:Calibri, sans-serif;"><span style="font-size:14px;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14206198'>14206198</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14206198'>Obsolete the AzureMediaPlayer global log</a><p> </div><div>A global `log` is being obsoleted.&nbsp; Usage of this log will cause a compile error.&nbsp; If you are using this `log` please replace it with a new `log` scoped to your area. </div><div><br> </div><div>The AzureMediaPlayer component incorrectly created a `log` in the global scope. Unknowingly, some portal components and extensions used the AzureMediaPlayer log.&nbsp; This log will be removed after November 2022. </div><div></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14183129'>14183129</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14183129'>Deprecate all MsPortalFx Selectors (Azure Specs Selector)</a><p><br style="box-sizing:border-box;"></span><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Expected Errors:** Usages of the `<span style="display:inline !important;">MsPortalFx.Azure.ResourceManager.Pickers.Specs.Selector` and `</span><span style="box-sizing:border-box;display:inline !important;">MsPortalFx.Azure.ResourceManager.Pickers.Specs.</span><span style="box-sizing:border-box;display:inline !important;">Selector.Options`&nbsp;</span>APIs will be flagged as compile-time linting errors at build time. </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;font-family:Calibri, sans-serif;font-size:14.6667px;"></span> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Solution:** P<span>lease redesign blades for better full screen blade experiences using alternatives like DropDowns, Tabs, and RadioButtons like in the new create experience.</span> </div><div style="box-sizing:border-box;"><font face="Calibri, sans-serif" style="box-sizing:border-box;"><span style="box-sizing:border-box;font-size:14.6667px;"><span style="box-sizing:border-box;font-family:Calibri, sans-serif;display:inline !important;"></span></span></font> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Reason For Breaking Change:** Newer controls have better accessibility support:&nbsp;Selectors are no longer a supported navigation/layout model.<br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><span style="box-sizing:border-box;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14183116'>14183116</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=14183116'>Obsolete MsPortalFx.ViewModels.Controls.PartPinner</a><p><br style="box-sizing:border-box;"></span> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Expected Errors:**&nbsp;<span style="box-sizing:border-box;">Usages of&nbsp;</span><span style="">&nbsp;`</span><span style="font-family:Calibri, sans-serif;font-size:14.6667px;">MsPortalFx.ViewModels.Controls.PartPinner<span style="font-size:14px;">`</span>:&nbsp;<span style="font-size:14px;">`</span></span><span style="font-family:Calibri, sans-serif;font-size:14.6667px;">MsPortalFx.ViewModels.Controls.PartPinner.Options<span style="font-size:14px;">`&nbsp;</span>and&nbsp;<span style="font-size:14px;">`</span>MsPortalFx.ViewModels.Controls.PartPinner.ViewModel<span style="font-size:14px;">`&nbsp;<span style="display:inline !important;"><span>&nbsp;</span>will be flagged as a compile-time errors at build time.</span></span></span> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;">**Solution:** Please use <span style="display:inline !important;">`import * as FxPinner from &quot;Fx/Pinner&quot;;`</span> instead. </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;"><br style="box-sizing:border-box;"></span> </div><div style="box-sizing:border-box;"><span style="box-sizing:border-box;">**Reason For Breaking Change:** The newer control has better accessibility support.</span><br style="box-sizing:border-box;"> </div><div style="box-sizing:border-box;"><br style="box-sizing:border-box;"> </div><span style="box-sizing:border-box;"></p></td></tr><tr><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=13794092'>13794092</a></td><td><a href='https://msazure.visualstudio.com/DefaultCollection/One/_queries?id=13794092'>Remove or obsolete JQuery promise and request helper APIs</a><p> </div><div>Some framework APIs in the MsPortalFx.Helpers,&nbsp;MsPortalFx.Base.Net AND&nbsp;MsPortalFx.Base.Net2 namespaces have been deprecated, obsoleted, or removed.&nbsp;&nbsp; </div><div><br> </div><div><div style="box-sizing:border-box;">The portal framework is standardizing on native promises.&nbsp; JQuery promises are non-standard.&nbsp; Portal framework APIs using JQuery promises are being removed in favor of APIs using the native Promise. </div><div style="box-sizing:border-box;"><br> </div> </div><div>The following APIs have been obsolete for a long time and should no longer be in use.&nbsp; These APIs are being removed.&nbsp; Use of these APIs will fail at run time. Replacements for these APIs can be found in the MsPortalFx.Base.Net2 namespace of the &quot;Fx/Ajax&quot; module. </div><div><span style="display:inline !important;"><ul><li><span style="display:inline !important;">MsPortalFx.Base.Net.disableAjaxServerVersionCheck</span> </li><li><span>MsPortalFx.Base.Net.postJSON</span> </li><li>MsPortalFx.Base.Net.ajax </li><li>MsPortalFx.Base.Net.cachedAjax </li><li>MsPortalFx.Base.Net.invalidateCacheHeader </li><li>MsPortalFx.Base.Net.setCacheHeader </li><li>MsPortalFx.Base.Net.status </li><li>MsPortalFx.Base.Net.disableVersionCheck </li> </ul></span> </div><div>The following APIs have been made obsolete.&nbsp; Use of these APIs will result in a compile time error.&nbsp; Please change your usage to a replacement API. </div><div><ul><li>MsPortalFx.Base.Net.HttpStatusCode -- Use MsPortalFx.Base.Net2.HttpStatusCode instead. </li><li>MsPortalFx.Base.Net2.JQueryPromiseXhr -- This is a portal internal type. Use JQueryXhr instead.<br> </li><li>MsPortalFx.Helpers.Deferred -- Use native Promise or defer() from the &quot;Fx&quot; module. </li><li>MsPortalFx.Helpers.resolve -- Use Promise.resolve instead. </li><li>MsPortalFx.Helpers.reject -- Use Promise.reject instead. </li> </ul><div>The following APIs have been deprecated.&nbsp; Use of these APIs should result in an eslint warning.&nbsp; Please change your usage to a replacement API. </div><div><ul><li>MsPortalFx.Helpers,ajax -- Use &quot;Fx/Ajax&quot; or MsPortalFx.Base.Net2 APIs instead.<br> </li><li>MsPortalFx.Helpers.selector -- This is a JQuery alias.&nbsp; Use JQuery directly instead. </li><li>MsPotralFx.Helpers.Callbacks -- This is a JQuery alias.&nbsp; Use JQuery directly instead. </li> </ul> </div><div><span></p></td></tr></table>